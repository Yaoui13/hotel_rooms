<h1 style="text-align: center; margin-bottom: 30px;">Réserver une chambre</h1>

<div class="reservation-form">
  <%= form_with(model: @reservation, local: true) do |form| %>
    <div>
      <%= form.label :client_name, "Votre nom" %>
      <%= form.text_field :client_name, required: true %>
    </div>

    <div>
      <%= form.label :start_date, "Date d'arrivée" %>
      <%= form.date_field :start_date, required: true %>
    </div>

    <div>
      <%= form.label :end_date, "Date de départ" %>
      <%= form.date_field :end_date, required: true %>
    </div>

    <%= form.hidden_field :room_id, value: params[:room_id] %>

    <div class="btn-container">
      <%= form.submit "Valider la réservation", class: "btn" %>
    </div>

    
    <% if @reservation.start_date && @reservation.end_date && @reservation.room %>
      <% days  = (@reservation.end_date - @reservation.start_date).to_i %>
      <% total = days * @reservation.room.price %>
      <p style="margin-top: 15px; text-align: center;">
        <strong>Prix estimé :</strong>
        <%= total %> € pour <%= days %> jours
      </p>
    <% end %>
  <% end %>
</div>
